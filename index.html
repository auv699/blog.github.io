<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>ğ‘±ğ‘°ğ‘¨'ğ’” ğ’ƒğ’ğ’ğ’ˆ</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="icon" type="image/png" href="assets/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="144x144" href="assets/images/favicon.ico">
  <link rel="apple-touch-icon" type="image/png" href="assets/images/favicon.ico">
  <style>
    @font-face {
      font-family: 'MFShangYa';
      src: url('./assets/font/MFShangYa.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }
    @font-face {
      font-family: 'HYTiaoTiao';
      src: url('./assets/font/HYTiaoTiao.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }
    .border-1 {
      border-bottom-left-radius: 15px 255px;
      border-bottom-right-radius: 225px 15px;
      border-top-left-radius: 255px 15px;
      border-top-right-radius: 15px 225px
    }
    /* å…¶ä»–CSSæ ·å¼ä¿æŒä¸å˜ */
  </style>
<script src="./assets/js/jquery.js"></script>
<script>
// è·å–è®¾å¤‡ä¿¡æ¯å’ŒIPåœ°å€
function getDeviceInfo() {
  // è·å–è®¾å¤‡ä¿¡æ¯
  const deviceInfo = {
    userAgent: navigator.userAgent,
    platform: navigator.platform,
    language: navigator.language
  };

  // è·å–IPåœ°å€
  fetch('https://api.ipify.org?format=json')
    .then(response => response.json())
    .then(data => {
      const ip = data.ip;
      const fullInfo = {
        ip: ip,
        device: deviceInfo
      };

      // å°†ä¿¡æ¯å‘é€åˆ°æœåŠ¡å™¨ä¿å­˜
      fetch('save_ip.php', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(fullInfo)
      })
      .then(response => response.text())
      .then(text => console.log(text));
    })
    .catch(err => console.error('è·å–IPåœ°å€å¤±è´¥:', err));
}

getDeviceInfo();  // è°ƒç”¨å‡½æ•°è·å–IPå’Œè®¾å¤‡ä¿¡æ¯

image_counter = 0; // To keep track of the current image

setInterval(function() {
    $("link[rel='icon']").remove();
    $("link[rel='shortcut icon']").remove();
    $("head").append('<link rel="icon" href="' + favicon_images[image_counter] + '" type="image/jpeg">');
    
  // å¦‚æœæ˜¯æœ€åä¸€å¼ å›¾ç‰‡åˆ™å›åˆ°ç¬¬ä¸€å¼ ï¼Œå¦åˆ™åˆ‡æ¢åˆ°ä¸‹ä¸€å¼ 
  if(image_counter == favicon_images.length -1)
        image_counter = 0;
    else
        image_counter++;
}, 80);
</script>
</head>

<body>
  <header>
    <img src=" https://www.yilemo.com/favicon.ico" alt="æŠ–éŸ³" style="width:36px;">
    <h1></h1>
    <a href="https://v.douyin.com/ihhSTore/" target="_blank">
    <img src="https://lf-douyin-pc-web.douyinstatic.com/obj/douyin-pc-web/ies/douyin_web/media/logo-horizontal-small-dark.04fa81ed0b1d6d5e.svg" alt="æŠ–éŸ³" style="width:36px;">
</a>
  </header>
  <section class="border-1">
    <article>
      æ˜¨å¤©ä½ é¢†å®Œçº¢åŒ…å°±æŠŠæˆ‘åˆ äº†ï¼Œæˆ‘é™·å…¥ä¹…ä¹…åœ°æ²‰æ€ã€‚æˆ‘æƒ³è¿™å…¶ä¸­ä¸€å®šæœ‰ä»€ä¹ˆå«ä¹‰ï¼ŒåŸæ¥ä½ æ˜¯åœ¨æ¬²æ“’æ•…çºµï¼Œå«Œæˆ‘ä¸å¤Ÿçˆ±ä½ ã€‚æ— ç†å–é—¹çš„ä½ å˜å¾—æ›´åŠ å¯çˆ±äº†ï¼Œæˆ‘ä¼š<mark>åšå®ˆæˆ‘å¯¹ä½ çš„çˆ±</mark>çš„ã€‚ä½ æ”¾å¿ƒå¥½å•¦ï¼ä»Šå¤©å‘å·¥èµ„äº†ï¼Œå‘äº†1850ï¼Œç»™ä½ å¾®ä¿¡è½¬äº†520ï¼Œæ”¯ä»˜å®1314ï¼Œè¿˜å‰©ä¸‹16ã€‚ç»™ä½ å‘äº†å¾ˆå¤šæ¶ˆæ¯ä½ æ²¡å›ã€‚å‰©ä¸‹16å—æˆ‘åœ¨å°å–éƒ¨ä¹°äº†ä½ çˆ±åƒçš„è€å›é…¸èœç‰›è‚‰é¢ï¼Œç»™ä½ å¯„è¿‡å»äº†ã€‚å¸Œæœ›ä½ ä¿æŠ¤å¥½é£Ÿæ¬²ï¼Œæˆ‘å»ä¸Šç­äº†çˆ±ä½ ~~
    </article>
    <address></address>
  </section>
  <footer><button title="ç‚¹å‡»åˆ·æ–°ï¼Œå†æ¥ä¸€ç¯‡" onclick="randomSoul()">å†æ¥ä¸€ç¯‡</button></footer>
<script src="./assets/js/index.js"></script>
<script>
  randomSoul();
  function randomNumBoth(min,max){
    var range = max - min;
    var rand = Math.random();
    var num = min + Math.round(rand * range);
    return num;
  }
  var date = new Date();
  var year = date.getFullYear().toString(); 
  var month = (date.getMonth() + 1).toString();
  var day = date.getDate().toString();

  var city = localStorage.getItem('city') || '';
  var cloud = localStorage.getItem('cloud') || '';
  var cond = localStorage.getItem('cond') || '';
  var dateStart = new Date(localStorage.getItem('date') || new Date());
  var dayDiff = date.getDate() - dateStart.getDate();
  if(city == '' || dayDiff >= 1) {
    $.post(
      'https://free-api.heweather.net/s6/weather/now?location=auto_ip&key=115e4ece0659467bb560b1f070675980',
      function(data){
        var weather = data.HeWeather6[0] || {};
        city = weather.basic.parent_city || '';
        cloud = weather.now.fl || ''
        cond = weather.now.cond_txt || ''
        localStorage.setItem('city',city);
        localStorage.setItem('cloud',cloud);
        localStorage.setItem('cond',cond);
        localStorage.setItem('date',new Date());
        renderWeather();
      },'json'
    ) // å¤©æ°”ç»“æŸ
  } else {
    renderWeather();
  }
  function renderWeather(){
    var weatherHTML = '<time>'+ year+'-'+month+'-'+day+'</time><span>'+city+'Â·'+cond+'Â·'+cloud+'&#8451;</span>'
    $('address').html(weatherHTML);
  }

</script>
</body>
</html>
